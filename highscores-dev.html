<html>
  <head>
    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    <style>
      .hidden { display: none }
    </style>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script>
      var table;
      $(function(){
        $.get("hiscores2023-10-07-12-11-05.csv",function(data) {
          let csv = [];
          let entries = data.split('\n');
          entries.pop()
          for(let i in entries){
            csv[i] = entries[i].split(',');
          }
          table = $('#myTable').DataTable( {
            columns: [
              { 
                title: "Display Name",
                className: "dt-body-left dt-head-center"
              },
              { 
                title: "Constitution Level",
                className: "dt-body-right dt-head-center"
              },
              { 
                title: "Constitution XP",
                className: "dt-body-right dt-head-center",
                render: function( data, type, row ) {
                  let parts = data.split(".")
                  return parts[0]+"<span class='frac'>."+parts[1]+"</span>"
                }
              },
              {
                title: "Combat Level",
                className: "dt-body-right dt-head-center",
                render: function( data, type, row ) {
                  let parts = data.split(".")
                  return parts[0]+"<span class='frac'>."+parts[1]+"</span>"
                }
              },
              { 
                title: "Total Level",
                className: "dt-body-right dt-head-center"
              },
              { 
                title: "Virtual Total Level",
                className: "dt-body-right dt-head-center"
              },
              { 
                title: "Total XP",
                className: "dt-body-right dt-head-center"
              },
              { 
                title: "RuneScore",
                className: "dt-body-right dt-head-center"
              },
              { 
                title: "Quest Points",
                className: "dt-body-right dt-head-center"
              },
            ],
            data: csv
          });
        });
      });
    </script>
  </head>
  <body>
    <h3 class="panel-title">10HP Hiscores</h3>
    <table border=1 id="myTable"></table>
  </body>
</html>
